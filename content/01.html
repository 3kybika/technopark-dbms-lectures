---
title: Лекция 1
description: |
  Тема данной лекции:

   - Обзор курса
   - Что такое базы данных?
   - Проектирование БД.
   - Нормализация и нормальные формы.
   - Реляционная алгебра.
   - Типы данных.
useMath: true
---
<section class="slide">
    <h2>Знакомство и основы проектирования БД</h2>
    <ul>
        <li>Обзор курса</li>
        <li>Что такое базы данных?</li>
        <li>Проектирование БД.</li>
        <li>Нормализация и нормальные формы.</li>
        <li>Реляционная алгебра.</li>
        <li>Типы данных.</li>
    </ul>
</section>

<section class="slide">
    <h2>Интересные факты</h2>
    <ul>
        <li><img src="yahoo.png" style="float: right"/>База данных Yahoo > 2 петабайт</li>
        <li>Отсутствие готовых решений</li>
        <li><img src="osm.png" style="float: right"/>Архив с базой данных OpenStreetMap занимает порядка 33Гб</li>
        <li>Практически ни одно приложение не обходится без БД</li>
        <li>Установочные .msi файлы для Windows - это БД</li>
        <li><img src="hh.png" style="float: right"/>В большинстве вакансий разработчика упоминается SQL, по данным hh.ru
        </li>
    </ul>
</section>

<section class="slide">
    <h2>Стоимость типовых операций</h2>
    <table style="font-size: 75%">
        <thead>
        <tr>
            <th>Стоимость операции</th>
            <th style="text-align: right">нс (ns)</th>
            <th style="text-align: right">мкс (µs)</th>
            <th style="text-align: right">мс (ms)</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Получение значения из L1</td>
            <td align="right">0.5</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Ошибка предсказания перехода в CPU</td>
            <td align="right">5</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Получение значения из L2</td>
            <td align="right">7</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Mutex lock/unlock</td>
            <td align="right">25</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Получение значения из RAM</td>
            <td align="right">100</td>
            <td align="right"></td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Сжатие 1Кб методом Zippy</td>
            <td align="right">3 000</td>
            <td align="right">3</td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Отправка 1Кб через 1Гбит/сек сеть</td>
            <td align="right">10 000</td>
            <td align="right">10</td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Чтение 4Кб с SSD (случайный доступ)</td>
            <td align="right">150 000</td>
            <td align="right">150</td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Чтение 1Мб из RAM (последовательный доступ)</td>
            <td align="right">250 000</td>
            <td align="right">250</td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Round trip внутри одного датацентра</td>
            <td align="right">500 000</td>
            <td align="right">500</td>
            <td align="right"></td>
        </tr>
        <tr>
            <td>Чтение 1Мб из SSD (последовательный доступ)</td>
            <td align="right">1 000 000</td>
            <td align="right">1 000</td>
            <td align="right">1</td>
        </tr>
        <tr>
            <td>Позиционирование HDD</td>
            <td align="right">10 000 000</td>
            <td align="right">10 000</td>
            <td align="right">10</td>
        </tr>
        <tr>
            <td>Чтение 1Мб из HDD (последовательный доступ)</td>
            <td align="right">20 000 000</td>
            <td align="right">20 000</td>
            <td align="right">20</td>
        </tr>
        <tr>
            <td>Round trip между США и Нидерландами</td>
            <td align="right">150 000 000</td>
            <td align="right">150 000</td>
            <td align="right">150</td>
        </tr>
        </tbody>
    </table>
    <a href="https://gist.github.com/jboner/2841832">https://gist.github.com/jboner/2841832</a>
</section>

<section class="slide">
    <h2>Задача курса</h2>
    <img src="challenge.png" style="position: absolute; bottom: 50px; right: 50px"/>
    <ul>
        <li>Проектирование реляционных баз данных.</li>
        <li>Язык запросов SQL.</li>
        <li>Оптимизация запросов и схем данных.</li>
        <li>High-Load и Big Data.</li>
        <li>Администрирование и настройка серверов БД.</li>
        <li>noSQL и его использование в WEB.</li>
    </ul>
</section>

<section class="slide">
    <h2>Проектирование и диаграммы</h2>
    <img src="uml.jpg" style="float: right"/>
    <ul>
        <li>Нормализация</li>
        <li>DDL</li>
    </ul>
</section>

<section class="slide">
    <h2>SQL</h2>
    <img src="../common/joins.svg" style="float: right; width: 60%"/>
    <ul>
        <li>CRUD</li>
        <li>Транзакции</li>
        <li>Хранимые процедуры</li>
        <li>Триггеры</li>
    </ul>
</section>

<section class="slide">
    <h2>Оптимизация</h2>
    <blockquote style="float: right; width: 50%">“Ну и запросы у вас”, - сказала база данных и повисла.</blockquote>
    <img src="optimization.jpg" style="width: 30%; position: absolute; bottom: 50px; right: 50px"/>
    <ul>
        <li>EXPLAIN, slow_log</li>
        <li>Индексы</li>
        <li>Денормализация</li>
    </ul>
</section>

<section class="slide">
    <h2>Администрирование</h2>
    <figure style="float: right; width: 50%">
        <blockquote>На моей работе самая страшная фраза это: “ребята, за какую дату у нас есть бэкап базы данных?”
        </blockquote>
        <figcaption>© bash.im</figcaption>
    </figure>
    <img src="injection.jpg" style="width: 220px; position: absolute; bottom: 50px; right: 50px"/>
    <ul>
        <li>Конфигурирование</li>
        <li>Репликация</li>
        <li>Резервное копирование</li>
        <li>Пользователи и права</li>
        <li>SQL-injections</li>
    </ul>
</section>

<section class="slide">
    <h2>Реляционные БД</h2>
    <figure>
        <blockquote>… многие отдали предпочтение реляционным системам баз данных, поскольку используемый в них
            стандартизованный язык SQL открывал возможности безболезненного перехода от одной СУБД к другой. Хотя
            воспользовались ими на практике только единицы, мысль о возможной смене поставщика СУБД, не связанной со
            сколько-нибудь ощутимыми затратами, согревала всех.
        </blockquote>
        <figcaption>Мартин Фаулер</figcaption>
    </figure>
</section>

<section class="slide">
    <h2>NoSQL</h2>
    <img src="nosql-02.png" style="position: absolute; right: 100px; width: 250px"/>
    <img src="nosql-01.png" style="position: absolute; bottom: 50px; right: 50px; width: 350px"/>
    <ul>
        <li>Концепция Map-Reduce</li>
        <li>Краткий обзор существующих решений</li>
        <li>Tarantool</li>
    </ul>
</section>

<section class="slide">
    <h2>Контроль знаний</h2>
    <img src="burn.png" style="position: absolute; bottom: 50px; right: 50px; width: 320px"/>
    <figure>
        <blockquote>Экзамен ― это уникальная возможность для студента два раза в год узнать что-то полезное хотя бы на
            несколько дней.
        </blockquote>
        <figcaption>© Французский бизнесмен и творческая личность Джордж Элгози</figcaption>
    </figure>
    <ul>
        <li>Рубежные контроли</li>
        <li>Разработка проекта</li>
        <li>Нагрузочное тестирование</li>
        <li>Защита</li>
    </ul>
</section>

<section class="slide">
    <h2>Литература</h2>
    <img src="book-03.jpg" style="position: absolute; bottom: 330px; right: 50px; height: 200px; border: 1px solid gray"/>
    <img src="book-02.jpg" style="position: absolute; bottom: 200px; right: 150px; height: 200px; border: 1px solid gray"/>
    <img src="book-01.jpg" style="position: absolute; bottom: 50px; right: 50px; height: 200px; border: 1px solid gray"/>
    <ul class="compact">
        <li>Дейт К. Дж. Введение в системы баз данных</li>
        <li>Бьюли А. Изучаем SQL</li>
        <li>Молинаро Э. SQL – сборник рецептов</li>
        <li>Заводны Дж, Шварц Б., Зайцев П.,<br/>
        Ткаченко В., Ленц А. MySQL.<br/>
        Оптимизация производительности</li>
        <li>Саймон А. Р. Стратегические технологии баз данных</li>
        <li>http://www.intuit.ru/catalog/database/</li>
        <li>http://citforum.ru/database/</li>
        <li>http://www.sql.ru/</li>
        <li>http://www.mysql.com/</li>
    </ul>
</section>

<section class="slide">
    <h2>Определение БД</h2>
    <dl>
        <dt>База данных (БД)</dt>
        <dd>Зто взаимосвязанная информация (данные) об объектах, которая организованна специальным образом и хранится на
            каком-либо носителе.
        </dd>
    </dl>
    <img src="brick-02.jpg" style="float: right; width: 49%"/>
    <img src="brick-01.jpg" style="width: 49%"/>
</section>

<section class="slide">
    <h2>Реляционная модель данных</h2>
    <style>
.rel td {
	background: none;
}
.rel .vertical-text {
	position: absolute;
	margin-top: -20pt;
	margin-left: -15pt;
	transform: rotate(-90deg);
	transform-origin: left top 0;
}
.rel .note {
	vertical-align: middle;
	font-style: italic;
	background: none !important;
	border-top: 1px dashed black;
	border-bottom: 1px dashed black;
}
.rel .vnote {
	text-align: center;
	font-style: italic;
	background: none !important;
	border-left: 1px dashed black;
	border-right: 1px dashed black;
}
.rel .blank {
	background: none !important;
}
.rel .data td:not(.note):not(.blank) {
	white-space: nowrap;
	border: 1px solid black;
}
.rel .attr td:not(.note):not(.blank) {
	text-align: center;
	vertical-align: middle;
	font-weight: bold;
	border: 1px solid black;
}
.rel .domain td:not(.note):not(.blank) {
	text-align: center;
	vertical-align: middle;
	font-style: italic;
	border: 1px solid black;
}
.rel .type td:not(.note):not(.blank) {
	text-align: center;
	vertical-align: middle;
	font-style: italic;
	border: 1px solid black;
	background: #ccf !important;
}
.rel .data td.int {
	text-align: right;
}
.rel td.int {
	background: #ccc !important;
}
.rel td.str {
	background: #cfc !important;
}
    </style>
    <table class="rel classic">
        <tr class="type">
            <td class="blank"></td>
            <td>Целое</td>
            <td colspan="2">Строка</td>
            <td colspan="2">Целое</td>
            <td class="note">Типы данных</td>
        </tr>
        <tr class="domain">
            <td class="blank"></td>
            <td class="int">номер</td>
            <td class="str">имя</td>
            <td class="str">должность</td>
            <td class="int" colspan="2">деньги</td>
            <td class="note">Домены</td>
        </tr>
        <tr class="attr">
            <td rowspan="4" class="note" style="width: 30pt; vertical-align: bottom;">
                <div class="vertical-text">Отношение</div>
            </td>
            <td class="int">Табельный номер</td>
            <td class="str">Имя</td>
            <td class="str">Должность</td>
            <td class="int">Оклад</td>
            <td class="int">Премия</td>
            <td class="note">Аттрибуты</td>
        </tr>
        <tr class="data">
            <td class="int">2934</td>
            <td class="str">Иванов</td>
            <td class="str">Инженер</td>
            <td class="int">112</td>
            <td class="int">40</td>
            <td rowspan="3" class="note">Кортежи</td>
        </tr>
        <tr class="data">
            <td class="int">2935</td>
            <td class="str">Петров</td>
            <td class="str">Вед. Инженер</td>
            <td class="int">144</td>
            <td class="int">50</td>
        </tr>
        <tr class="data">
            <td class="int">2936</td>
            <td class="str">Сидоров</td>
            <td class="str">Бухгалтер</td>
            <td class="int">92</td>
            <td class="int">35</td>
        </tr>
        <tr>
            <td class="blank"></td>
            <td class="vnote">Ключ</td>
            <td colspan="5"></td>
        </tr>
    </table>
</section>

<section class="slide">
    <h2>Терминология</h2>
    <dl>
        <dt>Домен</dt>
        <dd>Тип данных, то есть допустимое множество значений.</dd>
        <dt>Кортеж</dt>
        <dd>Множество пар {имя атрибута, значение}, которое содержит одно вхождение каждого имени атрибута,
            принадлежащего схеме отношения.
        </dd>
        <dt>Отношение</dt>
        <dd>Множество кортежей (не упорядоченное).</dd>
        <dt>Целостность базы данных</dt>
        <dd>Соответствие имеющейся в базе данных информации её внутренней логике, структуре и всем явно заданным
            правилам.
        </dd>
    </dl>
</section>

<section class="slide">
    <h2>Реляционная модель данных</h2>
    <div style="font-size: 80%">
        <dl>
            <dt>Реляционная модель данных (РМД)</dt>
            <dd>Логическая модель данных, прикладная теория построения баз данных, которая является приложением к
                задачам обработки данных таких разделов математики как теории множеств и логика первого порядка.
            </dd>
        </dl>

        <p>Реляционная модель данных включает следующие компоненты:</p>
        <dl>
            <dt>Структурный аспект (составляющая)</dt>
            <dd>Данные в базе данных представляют собой набор отношений.</dd>
            <dt>Аспект (составляющая) целостности</dt>
            <dd>Отношения (таблицы) отвечают определенным условиям целостности. РМД поддерживает декларативные
                ограничения целостности уровня домена (типа данных), уровня отношения и уровня базы данных.
            </dd>
            <dt>Аспект (составляющая) обработки (манипулирования)</dt>
            <dd>РМД поддерживает операторы манипулирования отношениями (реляционная алгебра, реляционное исчисление).
            </dd>
        </dl>
    </div>
</section>

<section class="slide">
    <h2>Реляционная алгебра</h2>
    <figure style="float: right">
        <img src="ted.jpg" width="260"/>
        <figcaption>Эдгар Франк «Тед» Кодд</figcaption>
    </figure>
    <ul>
        <li>Выборка</li>
        <li>Проекция</li>
        <li>Объединение</li>
        <li>Пересечение</li>
        <li>Разность</li>
        <li>Произведение</li>
        <li>Деление</li>
        <li>Соединение</li>
    </ul>
</section>

<section class="slide">
    <h2>Выборка (A WHERE c)</h2>
    <h3>Персоны</h3>
    <table class="classic bordered" style="font-size: 80%">
        <thead>
        <tr>
            <th>Имя</th>
            <th>Возраст</th>
            <th>Вес</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Harry</td>
            <td>34</td>
            <td>80</td>
        </tr>
        <tr>
            <td>Donald</td>
            <td>29</td>
            <td>70</td>
        </tr>
        <tr>
            <td>Helena</td>
            <td>54</td>
            <td>54</td>
        </tr>
        <tr>
            <td>Peter</td>
            <td>34</td>
            <td>80</td>
        </tr>
        </tbody>
    </table>
    <h3 class="math">`sigma_("Возраст" >= 34)("Персоны")`</h3>
    <table class="classic bordered" style="font-size: 80%">
        <thead>
        <tr>
            <th>Имя</th>
            <th>Возраст</th>
            <th>Вес</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Harry</td>
            <td>34</td>
            <td>80</td>
        </tr>
        <tr>
            <td>Helena</td>
            <td>54</td>
            <td>54</td>
        </tr>
        <tr>
            <td>Peter</td>
            <td>34</td>
            <td>80</td>
        </tr>
        </tbody>
    </table>
</section>
