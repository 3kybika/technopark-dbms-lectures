---
title: Лекция 4
description: |
  Тема данной лекции:

   - Разбор задач с РК1.
---
<section class="slide">
<h2>Задача 1</h2>
<p>Найти имена и классы, которые имеют друзей только в том же классе. Вернуть результат, отсортированный по классу, затем имени в классе.</p>
<h3>Схема:</h3>
<pre><code>Highschooler ( ID, name, grade )</code></pre>
<p>Студент с уникальным ID. Имя и Класс</p>
<pre><code>Friend ( ID1, ID2 )</code></pre>
<p>Студент с ID1 друг студента с ID2. Дружба взаимная, если есть запись (123, 456), то есть и (456, 123)</p>
</section>

<section class="slide">
<h2>Задача 1</h2>
<p>Найти имена и классы, которые имеют друзей только в том же классе. Вернуть результат, отсортированный по классу, затем имени в классе.</p>
<h3>Схема:</h3>
<pre><code>Highschooler ( ID, name, grade )</code></pre>
<p>Студент с уникальным ID. Имя и Класс</p>
<pre><code>Friend ( ID1, ID2 )</code></pre>
<p>Студент с ID1 друг студента с ID2. Дружба взаимная, если есть запись (123, 456), то есть и (456, 123)</p>
</section>

<section class="slide">
<h2>Задача 1</h2>
<p>Найти имена и классы, которые имеют друзей только в том же классе. Вернуть результат, отсортированный по классу, затем имени в классе.</p>
<div style="text-align: center">
	<img src="q1s01.svg" style="width: 75%" />
</div>
</section>

<section class="slide">
<h2>Задача 1</h2>
<p>Найти имена и классы, которые имеют друзей только в том же классе. Вернуть результат, отсортированный по классу, затем имени в классе.</p>
<div style="text-align: center">
	<img src="q1s02.svg" style="width: 75%" />
</div>
<p align="center">
	Есть в том же классе и нет в других классах<br/>==<br/>Есть друзья и нет в друих классах
</p>
</section>

<section class="slide">
<h2>Задача 1</h2>
<p>Найти имена и классы, которые имеют друзей только в том же классе. Вернуть результат, отсортированный по классу, затем имени в классе.</p>
<div style="text-align: center">
	<img src="q1s03.svg" style="width: 75%" />
</div>
<pre class="next" style="font-size: 80%"><code class="sql">

FROM Highschooler AS H
JOIN Friend AS F ON (H.Id = F.Id1)
LEFT JOIN Highschooler AS O ON (F.Id2 = O.Id AND H.Grade &lt;&gt; O.Grade)
WHERE O.Id IS NULL
</code></pre>
</section>

<section class="slide">
<h2>Задача 1</h2>
<p>Найти имена и классы, которые имеют друзей только в том же классе. Вернуть результат, отсортированный по классу, затем имени в классе.</p>
<div style="text-align: center">
	<img src="q1s03.svg" style="width: 75%" />
</div>
<pre style="font-size: 80%"><code class="sql">
SELECT H.name, H.grade
FROM Highschooler AS H
JOIN Friend AS F ON (H.Id = F.Id1)
LEFT JOIN Highschooler AS O ON (F.Id2 = O.Id AND H.Grade &lt;&gt; O.Grade)
WHERE O.Id IS NULL
GROUP BY H.grade, H.name, H.id
ORDER BY H.grade, H.name
</code></pre>
</section>
